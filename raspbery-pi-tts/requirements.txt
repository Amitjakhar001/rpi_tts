pyttsx3==2.90
gTTS==2.3.2
Flask==2.3.3
pygame==2.5.2
numpy==1.24.3
matplotlib==3.7.2
psutil==5.9.5
requests==2.31.0
sounddevice==0.4.6
soundfile==0.12.1

cd ~/Desktop/raspberry_pi_tts
source tts-env/bin/activate

# Install all required packages
pip install --upgrade pip
pip install sounddevice soundfile pyaudio openai-whisper numpy



###################

cd ~/Desktop/raspberry_pi_tts
source tts-env/bin/activate

# Method 1: Use Python directly
python3 << EOF
import whisper
print("Downloading Whisper tiny model...")
model = whisper.load_model('tiny')
print("Whisper model ready!")
EOF

# Method 2: Alternative approach
python3 -c 'import whisper; model = whisper.load_model("tiny"); print("Whisper model ready")'

############################################## quick test commands

# Test what sample rates your mic supports manually:
arecord -D plughw:3,0 --dump-hw-params

# Test specific rates:
arecord -D plughw:3,0 -d 2 -r 44100 -c 1 test1.wav && echo "44100 works"
arecord -D plughw:3,0 -d 2 -r 48000 -c 1 test2.wav && echo "48000 works"
arecord -D plughw:3,0 -d 2 -r 16000 -c 1 test3.wav && echo "16000 works"

###################

# Run the updated audio recorder
python3 audio_recorder.py

# Expected output:
# âœ“ Directories created
# ðŸ”§ Configuring audio devices...
# ðŸ” Testing sample rates...
# âœ“ Sample rate 44100 Hz supported  (or whatever works)
# âœ“ Using sample rate: 44100 Hz
# âœ“ Using speaker: plughw:0,0
# ðŸ§ª Testing audio system...
# âœ“ ALSA recording works
# âœ“ ALSA playback works
# ðŸŽ‰ Audio system test passed!